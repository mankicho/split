<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="component.plan.nonoff.NonOfficialPlanMapper">
    <insert id="insertNonOfficialPlan" parameterType="NonOfficialPlanDTO">
       insert into non_official_plan(member_email,plan_name,startdate,enddate,authtime)
       values (#{memberEmail},#{planName},#{startDate},#{endDate},#{authTime})
    </insert>

    <select id="getNonPlan" resultType="hashmap" parameterType="hashmap">
        SELECT member_email,plan_name,startdate,enddate,authtime,regtime
        from non_official_plan
        where member_email = #{email} and #{sDate} between startdate and enddate
    </select>

    <delete id="deleteNonOfficialPlan" parameterType="hashmap">
        DELETE FROM non_official_plan
        where member_email = #{email} AND startdate = #{sDate} AND authtime = #{aTime}
    </delete>

    <select id="nonOfficialPlanShare" parameterType="int" resultType="hashmap">
        SELECT member_email,plan_name,startdate,enddate,authtime
        from non_official_plan
        where non_official_plan_id = #{npid}
    </select>
</mapper>